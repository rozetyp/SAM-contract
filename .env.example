# ===========================================
# SAM.gov Contract Digest - Environment Variables
# ===========================================

# App Configuration
APP_BASE_URL=http://localhost:3000
NEXT_PUBLIC_URL=http://localhost:3000

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/sam_contract

# ===========================================
# External Services
# ===========================================

# SAM.gov API
# Get your API key from: https://sam.gov/content/api
SAM_OPPS_API_KEY=your_sam_gov_api_key_here
SAM_API_BASE=https://api.sam.gov/opportunities/v2/search

# SAM.gov Rate Limiting Configuration
# Official Data.gov limits: 1,000 requests per hour across all services
# Our conservative defaults stay well within these limits for safety
# Scaling considerations:
# - 10 users: ~100 calls over ~4 minutes (safe)
# - 100 users: ~1,000 calls over ~38 minutes (at limit - monitor closely)
# - For 100+ users: reduce SAM_MAX_API_CALLS_PER_USER or increase delays
# Maximum API calls per user (to prevent excessive usage)
SAM_MAX_API_CALLS_PER_USER=10
# Delay between API calls in milliseconds (default: 2000ms = 2 seconds)
SAM_DELAY_BETWEEN_API_CALLS=2000
# Delay between users in milliseconds (default: 5000ms = 5 seconds)
SAM_DELAY_BETWEEN_USERS=5000
# Maximum retry attempts for failed API calls
SAM_MAX_RETRIES=3
# Safety threshold for pagination (stop if offset exceeds this)
SAM_SAFETY_OFFSET_THRESHOLD=1000
# Safety minimum items per page (stop if getting fewer than this)
SAM_SAFETY_MIN_ITEMS_PER_PAGE=10

# Email Service (Resend)
# Get your API key from: https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
RESEND_DRY=false

# Payment Processing (Stripe)
# Get your keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here_placeholder
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here_placeholder
STRIPE_PRICE_ID=price_your_price_id_here_placeholder

# ===========================================
# Development Settings
# ===========================================

# Set to 'development' for local dev, 'production' for production
NODE_ENV=development

# Railway-specific (auto-set in production)
RAILWAY_ENVIRONMENT=development
RAILWAY_PROJECT_ID=your_project_id
RAILWAY_SERVICE_ID=your_service_id

# ===========================================
# Optional/Advanced Settings
# ===========================================

# Database connection pool settings
DB_MAX_CONNECTIONS=5
DB_IDLE_TIMEOUT=10000

# Email settings
EMAIL_FROM=noreply@yourdomain.com

# Cron job settings (Railway handles this)
CRON_SCHEDULE=0 13 * * *
APP_BASE_URL=http://localhost:3000
RESEND_API_KEY=your_resend_key
STRIPE_SECRET_KEY=sk_live_or_test
STRIPE_WEBHOOK_SECRET=whsec_xxx
STRIPE_PRICE_ID=price_xxx
SAM_OPPS_API_KEY=your_sam_api_key
SAM_EXCL_API_KEY=
SAM_API_BASE=
RESEND_DRY=true